<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Прощание с Dark Sun</title>
    <style>
        :root {
            --background: #14151a;
            --foreground: #f8fafc;
            --card: #1a1b23;
            --muted: #64748b;
            --primary: #1e293b;
            --destructive: #ef4444;
            --radius: 0.5rem;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: system-ui, -apple-system, sans-serif;
        }

        body {
            background: var(--background);
            color: var(--foreground);
            line-height: 1.6;
            padding: 2rem 1rem;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            opacity: 0;
            animation: fadeIn 0.8s forwards;
        }

        .card {
            background: var(--card);
            border-radius: var(--radius);
            padding: 2rem;
            margin-bottom: 2rem;
            opacity: 0;
            transform: translateY(20px);
            animation: slideUp 0.6s forwards;
        }

        .hero {
            text-align: center;
            padding: 3rem 2rem;
        }

        .hero h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            background: linear-gradient(-45deg, #1e293b, #3b82f6, #ef4444, #1e293b);
            background-size: 400% 400%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: gradient 15s ease infinite;
        }

        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .hero p {
            color: var(--muted);
            font-size: 1.5rem;
            max-width: 800px;
            margin: 0 auto;
        }

        .button {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 1rem 2rem;
            border-radius: var(--radius);
            border: none;
            cursor: pointer;
            font-size: 1.1rem;
            transition: all 0.2s;
            text-decoration: none;
            justify-content: center;
        }

        .button:hover {
            transform: scale(1.02);
        }

        .button-primary {
            background: var(--destructive);
            color: white;
            width: 100%;
            padding: 1.5rem;
            font-size: 1.2rem;
        }

        .button-outline {
            background: transparent;
            border: 1px solid var(--muted);
            color: var(--foreground);
        }

        .section {
            margin-bottom: 3rem;
        }

        .section h2 {
            color: var(--destructive);
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .section h3 {
            color: #3b82f6;
            font-size: 1.4rem;
            margin: 1.5rem 0 1rem;
        }

        .info-block {
            border-left: 4px solid var(--destructive);
            padding-left: 1rem;
            margin: 1.5rem 0;
        }

        .contact-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .heart-icon {
            color: var(--destructive);
        }

        .admin-panel {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--card);
            padding: 2rem;
            border-radius: var(--radius);
            z-index: 1000;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
            max-width: 90%;
            width: 400px;
        }

        .admin-panel input {
            width: 100%;
            padding: 0.8rem;
            margin: 0.5rem 0;
            background: var(--background);
            border: 1px solid var(--muted);
            color: var(--foreground);
            border-radius: var(--radius);
        }

        .admin-controls {
            display: none;
            margin-top: 1rem;
        }

        .admin-status {
            margin: 1rem 0;
            padding: 1rem;
            background: var(--background);
            border-radius: var(--radius);
            border: 1px solid var(--muted);
        }

        .status-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 0.5rem 0;
            padding: 0.5rem;
            border-radius: var(--radius);
            background: var(--card);
        }

        .status-label {
            color: var(--muted);
        }

        .status-value {
            padding: 0.2rem 0.5rem;
            border-radius: var(--radius);
            font-size: 0.9rem;
        }

        .status-enabled {
            color: #10b981;
        }

        .status-disabled {
            color: var(--destructive);
        }

        .admin-button {
            width: 100%;
            margin: 0.5rem 0;
            background: var(--primary);
            color: var(--foreground);
            padding: 0.8rem;
            border: 1px solid var(--muted);
            border-radius: var(--radius);
            cursor: pointer;
            transition: background 0.2s;
        }

        .admin-button:hover {
            background: var(--destructive);
        }

        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            z-index: 999;
        }

        .button-project {
            background: var(--destructive);
            opacity: 0.5;
            cursor: not-allowed;
            width: 100%;
            max-width: 500px;
            margin: 2rem auto;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 1.5rem;
            font-size: 1.2rem;
            border-radius: var(--radius);
            border: none;
            color: white;
        }

        .button-project.unlocked {
            opacity: 1;
            cursor: pointer;
        }

        .hidden {
            display: none !important;
        }

        .toggle-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }

        .toggle-content.show {
            max-height: 1000px;
            transition: max-height 0.5s ease-in;
        }

        .toggle-button {
            background: var(--primary);
            color: var(--foreground);
            border: 1px solid var(--muted);
            width: 100%;
            margin: 1rem 0;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 1rem;
            border-radius: var(--radius);
            cursor: pointer;
            transition: background 0.2s;
        }

        .toggle-button:hover {
            background: var(--destructive);
        }

        .reasons-list {
            list-style: none;
            margin: 1rem 0;
        }

        .reasons-list li {
            margin-bottom: 1rem;
            padding-left: 1.5rem;
            position: relative;
        }

        .reasons-list li::before {
            content: "•";
            color: var(--destructive);
            position: absolute;
            left: 0;
        }

        @keyframes fadeIn {
            to { opacity: 1; }
        }

        @keyframes slideUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2rem;
            }
            .hero p {
                font-size: 1.2rem;
            }
            .contact-buttons {
                flex-direction: column;
            }
            .button-primary {
                font-size: 1rem;
                padding: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="card hero">
            <h1 id="titleClickable">Прощание с Dark Sun</h1>
            <p>Дорогие друзья и участники проекта Dark Sun! Я, Алексей Стрипуха, хочу поделиться с вами важными изменениями.</p>
        </div>

        <div class="card section" id="thanksSection">
            <h2>
                <svg class="heart-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                </svg>
                Особые слова благодарности
            </h2>
            <div class="info-block">
                <p>
                    Дорогой Rewich, создатель проекта, ты был не просто его основателем - ты стал его сердцем и душой. 
                    Твоя преданность и энтузиазм вдохновляли всех нас. Спасибо тебе за каждый момент, 
                    который мы разделили вместе.
                </p>
                <br>
                <p>
                    Dark Sun стал для меня больше, чем просто проектом - это была настоящая семья. 
                    Каждый из вас внёс свой уникальный вклад в наше общее дело. Все эти дни мы росли, 
                    развивались и становились лучше вместе.
                </p>
                <br>
                <p>
                    Возможно, это прощание временное. Но даже если нам придётся расстаться навсегда, 
                    я всегда буду хранить в своём сердце те прекрасные моменты, которые мы разделили вместе. 
                    Вы научили меня многому, и я благодарен судьбе за каждого из вас.
                </p>
            </div>
        </div>

        <div class="card section">
            <h2>О возможном новом проекте</h2>
            <div class="info-block">
                <p>
                    Уважаемые подписчики, я хочу поделиться с вами важной информацией о возможном новом проекте. 
                    Ваше мнение и поддержка всегда были для нас главным приоритетом.
                </p>
            </div>

            <button class="button-project" id="projectButton" disabled>
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                    <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                </svg>
                Перейти на новый проект
            </button>

            <button class="toggle-button" id="reasonsButton">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M7 7l3-3 3 3m0 6l-3 3-3-3"></path>
                </svg>
                Показать подробности
            </button>

            <div class="toggle-content" id="reasonsContent">
                <div class="info-block">
                    <h3>Важная информация</h3>
                    <ul class="reasons-list">
                        <li>В случае если новая администрация изменит тематику проекта или не оправдает ожиданий подписчиков, мы оставляем за собой право создать новый проект.</li>
                        <li>Новый проект будет следовать изначальной концепции и тематике, которая была на канале все это время.</li>
                        <li>Решение о переходе на новый проект будет приниматься с учетом мнения подписчиков.</li>
                        <li>Мы уважаем выбор администрации, но также ценим право подписчиков на сохранение привычного формата.</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="card section">
            <div class="contact-buttons">
                <a href="mailto:contact@example.com" class="button button-outline" id="emailLink">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                        <polyline points="22,6 12,13 2,6"></polyline>
                    </svg>
                    Написать письмо
                </a>
                <a href="https://t.me/example" target="_blank" class="button button-outline" id="telegramLink">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path>
                    </svg>
                    Telegram
                </a>
            </div>
            <p style="text-align: center; margin-top: 2rem; color: var(--muted);">
                С уважением, Алексей Стрипуха
            </p>
        </div>
    </div>

    <!-- Админ панель -->
    <div class="overlay" id="overlay"></div>
    <div class="admin-panel" id="adminPanel">
        <h3>Админ панель</h3>
        <div id="loginForm">
            <input type="password" id="adminPassword" placeholder="Введите пароль">
            <button class="admin-button" onclick="login()">Войти</button>
        </div>
        <div id="adminControls" class="admin-controls">
            <div class="admin-status">
                <h4 style="margin-bottom: 1rem;">Текущий статус:</h4>
                <div class="status-item">
                    <span class="status-label">Кнопка перехода:</span>
                    <span id="buttonStatus" class="status-value"></span>
                </div>
                <div class="status-item">
                    <span class="status-label">Ссылка на проект:</span>
                    <span id="linkStatus" class="status-value"></span>
                </div>
                <div class="status-item">
                    <span class="status-label">Текст благодарности:</span>
                    <span id="textStatus" class="status-value"></span>
                </div>
                <div class="status-item">
                    <span class="status-label">Email для связи:</span>
                    <span id="emailStatus" class="status-value"></span>
                </div>
                <div class="status-item">
                    <span class="status-label">Telegram для связи:</span>
                    <span id="telegramStatus" class="status-value"></span>
                </div>
            </div>
            <input type="text" id="projectLink" placeholder="Ссылка на новый проект">
            <button class="admin-button" onclick="updateProjectLink()">Обновить ссылку</button>
            <input type="email" id="contactEmail" placeholder="Email для связи">
            <button class="admin-button" onclick="updateEmail()">Обновить email</button>
            <input type="text" id="contactTelegram" placeholder="Ссылка на Telegram">
            <button class="admin-button" onclick="updateTelegram()">Обновить Telegram</button>
            <button class="admin-button" onclick="toggleProjectButton()">
                <span id="toggleButtonText">Разблокировать кнопку</span>
            </button>
            <button class="admin-button" onclick="toggleThanksSection()">
                <span id="toggleSectionText">Скрыть текст благодарности</span>
            </button>
            <button class="admin-button" onclick="logout()">Выйти</button>
        </div>
    </div>

    <script>
        // Add animation delay to cards
        document.querySelectorAll('.card').forEach((card, index) => {
            card.style.animationDelay = `${index * 0.2}s`;
        });

        // Toggle reasons content
        const reasonsButton = document.getElementById('reasonsButton');
        const reasonsContent = document.getElementById('reasonsContent');

        reasonsButton.addEventListener('click', () => {
            reasonsContent.classList.toggle('show');
            reasonsButton.innerHTML = reasonsContent.classList.contains('show')
                ? `<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                       <path d="M7 7l3-3 3 3m0 6l-3 3-3-3"></path>
                   </svg> Скрыть подробности`
                : `<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                       <path d="M7 7l3-3 3 3m0 6l-3 3-3-3"></path>
                   </svg> Показать подробности`;
        });

        // Админ-панель и функционал
        let titleClicks = 0;
        let clickTimeout;
        let isAuthenticated = false;
        let projectLink = '';
        let isButtonUnlocked = false;
        let isSectionVisible = true;
        let contactEmail = '';
        let contactTelegram = '';

        // Загрузка состояния из localStorage
        function loadState() {
            projectLink = localStorage.getItem('projectLink') || '';
            isButtonUnlocked = localStorage.getItem('isButtonUnlocked') === 'true';
            isSectionVisible = localStorage.getItem('isSectionVisible') !== 'false';
            contactEmail = localStorage.getItem('contactEmail') || 'contact@example.com';
            contactTelegram = localStorage.getItem('contactTelegram') || 'https://gzmland.ru';

            updateProjectButton();
            updateThanksSection();
            updateContactLinks();
            if (isAuthenticated) {
                updateStatus();
            }
        }

        // Обновление состояния кнопки проекта
        function updateProjectButton() {
            const button = document.getElementById('projectButton');
            if (isButtonUnlocked && projectLink) {
                button.classList.add('unlocked');
                button.disabled = false;
                button.onclick = () => window.location.href = projectLink;
            } else {
                button.classList.remove('unlocked');
                button.disabled = true;
                button.onclick = null;
            }
            document.getElementById('toggleButtonText').textContent = 
                isButtonUnlocked ? 'Заблокировать кнопку' : 'Разблокировать кнопку';
            updateStatus();
        }

        // Обновление контактных ссылок
        function updateContactLinks() {
            document.getElementById('emailLink').href = `mailto:${contactEmail}`;
            document.getElementById('telegramLink').href = contactTelegram;
            if (isAuthenticated) {
                document.getElementById('contactEmail').value = contactEmail;
                document.getElementById('contactTelegram').value = contactTelegram;
            }
            updateStatus();
        }

        // Обновление видимости секции благодарности
        function updateThanksSection() {
            const section = document.getElementById('thanksSection');
            section.classList.toggle('hidden', !isSectionVisible);
            document.getElementById('toggleSectionText').textContent = 
                isSectionVisible ? 'Скрыть текст благодарности' : 'Показать текст благодарности';
            updateStatus();
        }

        // Открытие админ-панели
        document.getElementById('titleClickable').addEventListener('click', () => {
            titleClicks++;
            clearTimeout(clickTimeout);
            clickTimeout = setTimeout(() => titleClicks = 0, 2000);

            if (titleClicks === 3) {
                document.getElementById('overlay').style.display = 'block';
                document.getElementById('adminPanel').style.display = 'block';
                document.getElementById('loginForm').style.display = isAuthenticated ? 'none' : 'block';
                document.getElementById('adminControls').style.display = isAuthenticated ? 'block' : 'none';
                if (isAuthenticated) {
                    document.getElementById('projectLink').value = projectLink;
                    document.getElementById('contactEmail').value = contactEmail;
                    document.getElementById('contactTelegram').value = contactTelegram;
                    updateStatus();
                }
                titleClicks = 0;
            }
        });

        // Вход в админ-панель
        function login() {
            const password = document.getElementById('adminPassword').value;
            if (password === 'darksun141312') {
                isAuthenticated = true;
                document.getElementById('loginForm').style.display = 'none';
                document.getElementById('adminControls').style.display = 'block';
                document.getElementById('projectLink').value = projectLink;
                document.getElementById('contactEmail').value = contactEmail;
                document.getElementById('contactTelegram').value = contactTelegram;
                document.getElementById('adminPassword').value = '';
                updateStatus();
            } else {
                alert('Неверный пароль');
            }
        }

        // Выход из админ-панели
        function logout() {
            isAuthenticated = false;
            closeAdminPanel();
        }

        // Обновление ссылки на проект
        function updateProjectLink() {
            const newLink = document.getElementById('projectLink').value;
            projectLink = newLink;
            localStorage.setItem('projectLink', projectLink);
            updateProjectButton();
        }

        // Обновление email для связи
        function updateEmail() {
            const newEmail = document.getElementById('contactEmail').value;
            contactEmail = newEmail;
            localStorage.setItem('contactEmail', contactEmail);
            updateContactLinks();
        }

        // Обновление ссылки на Telegram
        function updateTelegram() {
            const newTelegram = document.getElementById('contactTelegram').value;
            contactTelegram = newTelegram;
            localStorage.setItem('contactTelegram', contactTelegram);
            updateContactLinks();
        }

        // Переключение состояния кнопки
        function toggleProjectButton() {
            isButtonUnlocked = !isButtonUnlocked;
            localStorage.setItem('isButtonUnlocked', isButtonUnlocked);
            updateProjectButton();
        }

        // Переключение видимости секции благодарности
        function toggleThanksSection() {
            isSectionVisible = !isSectionVisible;
            localStorage.setItem('isSectionVisible', isSectionVisible);
            updateThanksSection();
        }

        // Закрытие админ-панели
        function closeAdminPanel() {
            document.getElementById('overlay').style.display = 'none';
            document.getElementById('adminPanel').style.display = 'none';
        }

        // Закрытие при клике на оверлей
        document.getElementById('overlay').addEventListener('click', closeAdminPanel);

        // Обновление статусов в админ-панели
        function updateStatus() {
            const buttonStatusEl = document.getElementById('buttonStatus');
            buttonStatusEl.textContent = isButtonUnlocked ? 'Разблокирована' : 'Заблокирована';
            buttonStatusEl.className = 'status-value ' + (isButtonUnlocked ? 'status-enabled' : 'status-disabled');

            const linkStatusEl = document.getElementById('linkStatus');
            linkStatusEl.textContent = projectLink ? 'Установлена' : 'Не установлена';
            linkStatusEl.className = 'status-value ' + (projectLink ? 'status-enabled' : 'status-disabled');

            const textStatusEl = document.getElementById('textStatus');
            textStatusEl.textContent = isSectionVisible ? 'Отображается' : 'Скрыт';
            textStatusEl.className = 'status-value ' + (isSectionVisible ? 'status-enabled' : 'status-disabled');

            const emailStatusEl = document.getElementById('emailStatus');
            emailStatusEl.textContent = contactEmail === 'contact@example.com' ? 'По умолчанию' : 'Установлен';
            emailStatusEl.className = 'status-value ' + (contactEmail !== 'contact@example.com' ? 'status-enabled' : 'status-disabled');

            const telegramStatusEl = document.getElementById('telegramStatus');
            telegramStatusEl.textContent = contactTelegram === 'https://t.me/example' ? 'По умолчанию' : 'Установлен';
            telegramStatusEl.className = 'status-value ' + (contactTelegram !== 'https://t.me/example' ? 'status-enabled' : 'status-disabled');
        }

        // Загрузка начального состояния
        loadState();
    </script>
</body>
</html>
